(this["webpackJsonpdungeon-crawler"]=this["webpackJsonpdungeon-crawler"]||[]).push([[0],[,,,,,,,,function(t,e,a){t.exports=a(16)},,,,,function(t,e,a){},function(t,e,a){t.exports=a.p+"static/media/logo.25bf045c.svg"},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var r=a(0),o=a.n(r),n=a(7),s=a.n(n),p=(a(13),a(1)),i=a(2),c=a(4),h=a(3),l=a(5),u=(a(14),a(15),function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,a=[],r=0;r<t;r++)a.push(new Array(e).fill(0));function o(r,o,n){return r<0||o<0||r>=t||o>=e?0:0===a[r][o]&&Math.floor(Math.random()*n)<10?(a[r][o]=1,1):0}function n(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;o(t-1,e,a)&&n(t-1,e,a+20),o(t+1,e,a)&&n(t+1,e,a+20),o(t,e-1,a)&&n(t,e-1,a+20),o(t,e+1,a)&&n(t,e+1,a+20)}for(var s=0;s<t;s++)for(var p=0;p<e;p++)0===Math.floor(40*Math.random())&&(a[s][p]=1,n(s,p));return a}),m=function(t){function e(){var t;return Object(p.a)(this,e),(t=Object(c.a)(this,Object(h.a)(e).call(this))).state={},t}return Object(l.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"app"},o.a.createElement(f,{mapW:20,mapH:20}))}}]),e}(o.a.Component),f=function(t){function e(t){var a;Object(p.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t))).handleKeyPress=function(t){var e=a.state.playerX,r=a.state.playerY;switch(t.key){case"ArrowLeft":e--;break;case"ArrowUp":r--;break;case"ArrowRight":e++;break;case"ArrowDown":r++;break;default:return 0}var o=a.state.viewRange,n={left:e<o?0:e-o,top:r<o?0:r-o};n.right=n.left+2*o,n.bottom=n.top+2*o,n.right>a.props.mapW-1&&(n.right=a.props.mapW-1),n.bottom>a.props.mapH-1&&(n.bottom=a.props.mapH-1);for(var s=a.state.map,p=[],i=n.top;i<=n.bottom;i++)p.push(s[i].slice(n.left,n.right+1));a.setState({playerX:e,playerY:r,shownMap:p},(function(){console.log(a.state.shownMap),a.forceUpdate()}))};var r=Math.floor(a.props.mapW/2),o=Math.floor(a.props.mapH/2),n={left:r<4?0:r-4,top:o<4?0:o-4};n.right=n.left+8,n.bottom=n.top+8,n.right>a.props.mapW-1&&(n.right=a.props.mapW-1),n.bottom>a.props.mapH-1&&(n.bottom=a.props.mapH-1);for(var s=u(a.props.mapH,a.props.mapW),i=[],l=n.top;l<=n.bottom;l++)i.push(s[l].slice(n.left,n.right+1));return a.state={map:s,shownMap:i,types:["grass","rock","ground"],squareSize:40,viewRange:4,playerX:r,playerY:o},a}return Object(l.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){for(var t=this.state.shownMap,e=[],a={height:this.state.squareSize+"px",width:this.state.squareSize+"px"},r=0;r<t.length;r++)for(var n=0;n<t[r].length;n++)e.push(o.a.createElement(g,{type:this.state.types[t[r][n]],style:a,key:r+" "+n}));var s={gridTemplateColumns:"repeat("+t[0].length+", "+(this.state.squareSize+2)+"px)",width:t[0].length*(this.state.squareSize+2)+"px",height:t.length*(this.state.squareSize+2)+"px"};return o.a.createElement("div",{className:"gameBoard",style:s,tabIndex:"0",onKeyDown:this.handleKeyPress},e)}}]),e}(o.a.Component),g=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(c.a)(this,Object(h.a)(e).call(this,t))).state={type:a.props.type},a}return Object(l.a)(e,t),Object(i.a)(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({type:t.type})}},{key:"render",value:function(){var t;switch(this.state.type){case"ground":t="#9c7711";break;case"grass":t="#7ec850";break;case"rock":t="#5c4e29";break;default:t="#000000"}var e=this.props.style;return e={height:this.props.style.height,background:t},o.a.createElement("div",{className:"square",style:e})}}]),e}(o.a.Component),v=m;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.4a20be38.chunk.js.map